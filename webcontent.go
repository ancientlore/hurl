package main

import (
	"github.com/golang/snappy"
	"encoding/base64"
	"log"
	"mime"
	"net/http"
	"path"
	"strings"
)

const (
	cMedia_Logo36Png = "kxJMiVBORw0KGgoAAAANSUhEUgAAACQBBIQIBgAAAOEAmJgAAAABc1JHQgCuzhzpAAAACXBIWXMAAAsTAQR4AQCanBgAAAOoaVRYdFhNTDpjb20uYWRvYmUueG1wAAEBTDx4OnhtcG1ldGEgeG1sbnM6eD0iBSIMOm5zOgEXCC8iIAUjfHRrPSJYTVAgQ29yZSA1LjQuMCI-CiAgIDxyZGY6UkRGDT-8cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjCUUAIA1ILERlc2NyaXB0aW9uIAFYHGFib3V0PSIiAWkAIBEBDagEbXAVaQRucw3WLGNvbS94YXAvMS4wL041AAh0aWYZnzI2AAEaYjcACGV4aVo3AAEaCTclDQmjkDx4bXA6TW9kaWZ5RGF0ZT4yMDE1LTA4LTIxVDEyOjA4OjQ0PC86JAAZ4gU-RENyZWF0b3JUb29sPlBpeGVsbQEPFCAzLjMuMgk8LiIAHT0ByBw6T3JpZW50YSFHDD4xPC9CFAA-MAAwQ29tcHJlc3Npb24-NQ0wLhQAPjAAFFJlc29sdQFfFFVuaXQ-Mg0zOhcAPjYAAFkZIAQ-NxE0LhUAPjEAAFhOMQAuFQAdMSGJADolKhRYRGltZW4FzAwzNjwvUhkAPjkALENvbG9yU3BhY2U-MQ0zHRM-LgAFZwBZXmcAHRkNOQQ8L0HMXdxFLAkWGFJERj4KPC9lY2Fv9CEFPgoOEdUpAAAFBElEQVRYCe1Ya0xTVxz_3RYKLSKtyLQgTjYzURPH8MFc2JiOTKbMLUvmljkeiQQ12-LclgjEGLJNiRuJm_tmXCIyPy1hmeK-YBRRUWEDnENRHPhAHoKAPEppae_O_1zu7YNemIDiB0_Sc8_5n__jd_-v0xZ4woYwAk961nJAiBhBf1iCqOlEwe6yhxXzUwQycw2w2aogigsU2oQW4gUmvpKryMiZhYN72v6POo3CZBvcOHlgFK3Swo7zSMmO86L63LoAAaE-OSaDKIjh0OI00nJSx1LnDmgs3omdiwgAxAIGKh-5uap2VQ8mZn00afFLNA4eR-aOEF9cUwCIw0iCTXsRqdkveIOaKkAseqyaNahAelaSOyhX2btTJ3utc86CTT-y55EdjcXhbu5RAtKB-g8NJ_v42fhy5MQgpHylR2H-PTp7hIDEWNjROhKAD4rGH0jP1eNQrnXqcsgHLiI9BaTiGIX81EOKK1QWo3ooKsykIjZ-ss5PO6qw6zTm1XjGmShzv7d0Mcp3bkFFwx3caLsvkxE6zYBjn6fCbJyOc_W38GyoEWU5mVj_0kLO-90HbyFmrhmJi-dj1zursWVVHAZsdlxuakP-h2tRvD0NGkFAaV2jopMvBL_dqCkdUu1DWo3kvOauXg9BAvDGouexLCoC3_9RBgszFm0Ow5LI2filfA42vbZM4W990IvZIcGIe24Div6q5S9GYIICdAqP90I1ZH5a30cD9iGuo665HU5RRHtvP252dHFa1a1mRf_-knJs-rmI76tvt8DK5Dr7LXw_LXAcgLQa19WzMPwZbHvzFcwI0kOnlaIc6O9yboghkBuyOxzcY5cYgG1HivFJ4suc_u3RU_zZ2T_An0aDnj99TS6tXqdyyBKio7Dvo3U87i9GmrGnuJRzmhg4GgILQWiQga_tDiceWKwcVEbCcqxdsgC_sVDRh0Znn-Qh0yiAfMeFCWuZIRp7NyThwr-3cfB0Jc-dPqt0SVJuEJgQfQDk8N7r6UPPgBWRM0Kwf2My_r7TipQDv3I9NHVZJA_JL6McuC1UAZExGhSaTwuPceVkyGq3w-F0gsqXQhgWHMT5ulg4KE96rIOYw_gGhxxY_8Nh9A-6bvnOPjlkUoi5oNekCkjmO37pGqpZspIBAknlXj_cBiJM01l1mTlrXUs7f1LIaBhZXmUnv-5RUQSWXmZcHiJBGiW19fwpK2nv7cOfjXc5jfrNyvlz-brsmtRXyKjIqo8qbvOqFaj--jNW9pGch-jdDDCBzVqXgKt525EWH8vP5EnVQ-QRGv-whkYjaqaJJ2tHrwU_nSjntC_WxLPGt4K_dWF5DaeRUfLk2_sOY1fRCcybacS5nZvxI8spCrE_q1L65L2_hvevd2MXcTl5Uq2y-8MVwfTzQSlFnZlGRUMTimvqkBwTzffUc2rvSsDnmKQfE9Q8vzl6Er9XX8HJHRnYujqOVdsVDp6ECs5WobKxiTdMrmR4kjKXNunZWRCRJx9S2VPXPXK-xiMx5XPyQiIzOsRCe-pqg0yGQeePpfMicJFdObZhL5uNwfz6oHCFsxykxni9tUOR4QshgH9jVPUQ5dCB0gpPIbcdhaak9oYbRVrSVXLm-k0Peku36_pp7u7xOPPeqOaQN-Pj2j_BgESceVxe8GGnkn5xEN2V1LRLy94KUfiYffWf-B9WpG-sIYqstwhnITjycWjv5bHYp-T8P_8-tjU_Ic61AAAAAElFTkSuQmCC"
	cMedia_Logo72Png = "2BxMiVBORw0KGgoAAAANSUhEUgAAAEgBBIQIBgAAAFXts0cAAAABc1JHQgCuzhzpAAAACXBIWXMAAAsTAQR4AQCanBgAAAOoaVRYdFhNTDpjb20uYWRvYmUueG1wAAEBTDx4OnhtcG1ldGEgeG1sbnM6eD0iBSIMOm5zOgEXCC8iIAUjfHRrPSJYTVAgQ29yZSA1LjQuMCI-CiAgIDxyZGY6UkRGDT-8cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjCUUAIA1ILERlc2NyaXB0aW9uIAFYHGFib3V0PSIiAWkAIBEBDagEbXAVaQRucw3WLGNvbS94YXAvMS4wL041AAh0aWYZnzI2AAEaYjcACGV4aVo3AAEaCTclDQmjkDx4bXA6TW9kaWZ5RGF0ZT4yMDE1LTA4LTIxVDEyOjA4OjkyPC86JAAZ4gU-RENyZWF0b3JUb29sPlBpeGVsbQEPECAzLjMuDTwuIgAdPQHIHDpPcmllbnRhIUcMPjE8L0IUAD4wADBDb21wcmVzc2lvbj41DTAuFAA-MAAUUmVzb2x1AV8UVW5pdD4yDTM6FwA-NgAAWRkgBD43ETQuFQA-MQAAWE4xAC4VAB0xIYkAOiUqFFhEaW1lbgXMAWZSGQA-OQA0Q29sb3JTcGFjZT4xPC8FMx0TPi4ABWcAWV5nAB0ZDTkEPC9BzF3cRSwJFhhSREY-CjwvZWNhb_TECT4KJhueWAAACklJREFUeAHtXAlwVdUZ_t_LRkL2BULYIilECEkQhGobZFMWO1PEgB0MmCCaqkVBsEKYjiBlqtGhViuVikCpBYsslq1IkdCMMVBALWUJCMEkhIQlOwkkZLk9_8k79_3n5r6Ym4RAePcfePfsy3f__T0AMMlEwETgFiJgaXbtxIVRYLFOAMUSCRbFo9mxHdmpKHth_ZufdMSWrg43SVr8B1CUF0EBK7AP_HPnkLWEnaVDAGKX16GklHkMnLmsR79fZ8ptb3oqJfFWnEEfAAVm3IrN2m9NpalqsMK78FTKh5Cc7NZ--zjkEEtEe27SYWtZ4FmoCdoPs1JC2mtPfQ6y6Lyh9trx1q8zkhmVI5C0eEh7bKUPUHusfDvXUJS-zKh8xURualuPcXcCxFFRvMACn0Jiyuus2lRntRC5uxggjgAC8xokLt4KM1_p2kJMpGF3O0C2yypTwOqWCUmLwqXbt6DiJABxJGJAsR6BmSmjWoCLOsSZAGKXVoKZ67uPcdJzKgI_UHAygDgabswN-IAp7z-1xKl0RoAEzzwPN4P2wfQFwaJB7-nMAGEAPgrc3ZlTuTBaDxxscxzNO5pxp7Y3NMSA1dK6F-7qcsPRte4egP6amufokm1pbx3ibdmxk83trBwUAjMWxqpYW13als6z1tvnh3uehKVLG8TanRWgBHCxJohLtDndqRBByoEAtm6ZWJv0iCbzSREwAaJo6JRNgHRAoU0mQBQNnbIJkA4otMkEiKKhUzYB0gGFNpkAUTR0yiZAOqDQJhMgioZO2TBALlYr_Py-gTCiXy-WXWj1tyk6R2n_Jg9XVwjy9mrTwoZjsdWzpsCskcP4ptu-Pgnxf9zQ7AH8PLtA8ujh4N3FA9JOZUP6me-l8X2C_GHN04_DsPCekF9aDiv3H4I_HzjMx3h7uEPcgHDo7ucN246ehGvVNdDD3wcejOjDX9Bw9pIqbtTAoewL8N6-TLhxs1Zde9njD8PL4-PYvu5wpvAqPL1mK2Sey1P7W1owDFBXdmhBJZXXRdHhE8F56xeTeP9rk8fCu__KhHkbd6njl7C2h6N-xOsBXT1hVeJjcPZSMZy9XASHl7wAoX4-vO_l8T-FIrbf2IH9wKLh3MeGDoKEB2Nh_Nvr4FL5NT4-rn84BwcrkT1CYNML06H3_FTeZ-TDsIjRxTPO5tKqbnlInzCpHcWT0vmrpbTKy8glKBoCHGyM7dMDxg2KaAKOmBzdKxSmDR8sqrD2y6NqGQt7jn8n1VtaMQyQi9WY3skqvCKdZf-pc1IdL1JXr6ZfeN_XORfhv3mFkFPUFDwcgKK06sB_4DoRKWwvJhx9paIKm1SqratXy0YKhgFyZUraCGnHHz6fL00vLLsGucVq-oX31TU0AnamsEgai5XzV0vgx8s-gOfXb2f6p1rq__K7HLVeWiWnmVF8W0OGdRBaMSPk6S7_nsmeurOvorWG9TaAKqplAI7nX1L1zEimvKkIZp7LhQsl5eqiJVWyfvT36iCAXF0cA4TgicuJk2oB9dIAhuO0pliIXPl1O0BowUa_sRpKbJyxPP4RsQV_Lvp0r1QX40TjbeWgmN6h8Ma0CTD63n6Qx8Tllb__E3YfO8PPVlsvy74PM_eU3F1dwNdTbqtvaOQzNOGCKqtvquBMfyAWHoq8R3Txvah4YQeC26CwX6DaLF6AVxd1vJGCY3ZwsIpWSY9hZhfN8aMxkYDccS8zqeuemQr-tgPhm6fk5yWDoeUeHCu4sILMxcsiRXQL5K4Ar7CP6to6eHXTHlFVnziecqB_K3WQcYDId3NBXb1g65wEQI-VUohPV1gwcSRvwjdPKdhb_pmOto5jK2sa59ALImjIbejPUI5Dbj1VIFtKsR8Vs4BW6iDDAFmJmV8wKQ6EbKOCTF73mTgbTIwewMtaDgpm4FEK9pFDARxfZQOIWikUu9QnJnKPW8zf8W0W97xFXfuklgzB1dN_2jnaumGAqIiF-fvy9fDtTn1_A6xOPwLiUEPDw7iYaTkIuYuSVsQKSivUbipiPQN8YR7zpgWdvVzMwwdR13u2hyUzDJDe198bDh4D4d8IVx-VY__uwVCu8VVCWVxFSStiBcwvEkRFDDlAEDqQ41I_khxD0UefVMSwXXA7HfNDZcMAaf1o5J7lO9LUfapq7AFjoLcnnGaBIqVeAX7sOz_7tlrACsoIBxErJtZApTz-7bWSzyP6tE_BzaK9QwDSOnobDx1jgWWxOANQs45KHM1-GfFn0I8KY7GWoEE9u4kif9K1qIiJQV3cXGHt7Hi4JwS_AG2emoqYcVNvf5XN76X2Nihy3PTmrnS1DwuUO0TIgB4wpX4hgWoVg0xKGSRcoEqajsEUyLHfvqSmXWgfLZdUasKNVlgy4wDZnDg8CMZFWhPr6W43-blFjTHW_y7IAEUzxxIJFXZkqP0HXsh9B0nOhuogHK_YfCEso8OJnLTtxQTQWkLsR9JyEIoY6rIZPxkCaQufgS1znlT9tcYZTT8NAyS4Apfad0KOzLEtkImVIBGEar3cByJ68yETovtL6YtvcgqkCL2KRevCQcQJv2YO4YGs82J5_pwyLAqOL5_LHVWpg1VKr8schIm-_HcWwcfJTwA6uPH3D4aVMydrp0l1wwDV1NpDh-wrdt2Dq2JgKvRLTV0dXK6o5JvtZP4KNfeTmNfdzdcb5k-Ikw7zj29OSXXkGOpHoYIe99YamPPxDtVXwgkYtO6en8g9bOpG0LPiuCEsp0T7sW3aiMGSWsA2SoYBulFrt1JU-eKiGG6IbN9F5s8IkcC8zZajJ9R9AxmrX2Rv8r6-9mQajvnw34fVMVjoy9Kx1Esf3Ks7XxPTsjG_eQ_ST38vjf_lmBGQu-JVLkLYMfuh-6V-vcpXLOknQhu9fsMA0TSr1qJNHmrPFqK1obTksy8kbtBmBVJ3p6vBqJiXPHoE0HVQRIRjifpvDPOF5m7YJeWikYs_YjluNxcXnoUUa9EnciW6H1uOnIAnV22iXU3KhgHKsSleXGkUiaixvvKLQ4DZwLSsbJi9Zhs2qYTm_qW_7dR9W5-zdOjyHQfUsaLw-70Z3BCIOoYbNBuAHIrJ-mdJiIPcsGJPBnc3ZrNEPdVhWSxmi2L_0tT3uddhYMo7MG3lRsCEXXOk9fsaxyallLGfyPrpTUTdgdE7yjI6bMiiRggTXUunjIOont354T5hftSKzzN0gcN1URwfjY1k-iMMtjMdpVX4Yu-xAyO4p4wvhzqIsb17QPzwKP7idn57WgJMzJWeFo8A-MtSNcVpGCBcDPUCsr42jJA26qwVDUCyomjhpdBC4V9nIMM6yBlAoXc0hqQH8H_pA6RAPh3kPGVLBVSdlGIPBwBZ5EDKWRBSlO2webM9n8PurQ9QnvsylrfY7iy42O55EFzrf6W9s34sJkYlLZrI_oXwz1h1APvPHeTvjMWYzvxUoJbdK5vdMQ3W_24zu4o2g9OZb2ee_Y5A4P_g3XCp9_eLSAAAAABJRU5ErkJggg=="
)

var staticFiles = map[string]string{
	"/media/logo36.png": cMedia_Logo36Png,
	"/media/logo72.png": cMedia_Logo72Png,
}

func Lookup(path string) []byte {
	s, ok := staticFiles[path]
	if !ok {
		return nil
	} else {
		d, err := base64.URLEncoding.DecodeString(s)
		if err != nil {
			log.Print("main.Lookup: ", err)
			return nil
		}
		r, err := snappy.Decode(nil, d)
		if err != nil {
			log.Print("main.Lookup: ", err)
			return nil
		}
		return r
	}
}

func ServeHTTP(w http.ResponseWriter, r *http.Request) {
	p := r.URL.Path
	if strings.HasSuffix(p, "/") {
		p += "index.html"
	}
	b := Lookup(p)
	if b != nil {
		mt := mime.TypeByExtension(path.Ext(p))
		if mt != "" {
			w.Header().Set("Content-Type", mt)
		}
		w.Write(b)
	} else {
		http.NotFound(w, r)
	}
}
